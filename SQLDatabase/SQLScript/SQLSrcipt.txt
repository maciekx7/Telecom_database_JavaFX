/*
CREATED: 08.04.2020
MODIFIED: 17.04.2020
PROJECT: OPERATOR_TELEKOMUNIKACYJNY_WBD
MODEL: MODEL_LOGICZNY_OPERATORA_TELEKOMUNIKACYJNEGO
COMPANY: POLITECHNIKA WARSZAWSKA, EITI
AUTHOR: MACIEJ KRYSIAK & ŁUKASZ ŚLEBODA
VERSION: V4
DATABASE: ORACLE 18C
*/


-- CREATE TABLES SECTION -------------------------------------------------

-- TABLE OPERATORZY

CREATE TABLE OPERATORZY(
  ID_OPERATORA INTEGER NOT NULL,
  NAZWA_OPERATORA VARCHAR2(40 ) NOT NULL,
  DATA_ZALOZENIA DATE NOT NULL,
  ID_ADRESU INTEGER NOT NULL
)
/

-- CREATE INDEXES FOR TABLE OPERATORZY

CREATE INDEX OPERATOR_MA_ADRES ON OPERATORZY (ID_ADRESU)
/

-- ADD KEYS FOR TABLE OPERATORZY

ALTER TABLE OPERATORZY ADD CONSTRAINT IDENTYFIKATOR_OPERATORA PRIMARY KEY (ID_OPERATORA)
/

-- TABLE PRACOWNICY

CREATE TABLE PRACOWNICY(
  ID_PRACOWNIKA INTEGER NOT NULL,
  IMIE VARCHAR2(40 ) NOT NULL,
  NAZWISKO VARCHAR2(40 ) NOT NULL,
  NR_TELEFONU VARCHAR2(16 ) NOT NULL,
  EMAIL VARCHAR2(50 ) NOT NULL,
  DATA_ZATRUDNIENIA DATE NOT NULL,
  PESEL CHAR(11 ),
  DATA_URODZENIA DATE NOT NULL,
  PLEC CHAR(1 ) NOT NULL
        CHECK (PLEC IN ('K', 'M')),
  NR_KONTA_BANKOWEGO VARCHAR2(26 ) NOT NULL,
  ID_BIURA INTEGER,
  ID_PUNKTU_SPRZEDAZY INTEGER,
  ID_ADRESU INTEGER NOT NULL,
  ID_OPERATORA INTEGER NOT NULL,
  ID_STANOWISKA INTEGER NOT NULL
)
/

-- CREATE INDEXES FOR TABLE PRACOWNICY

CREATE INDEX BIURO_POSIADA ON PRACOWNICY (ID_BIURA)
/

CREATE INDEX PUNKT_SPRZEDAZY_POSIADA ON PRACOWNICY (ID_PUNKTU_SPRZEDAZY)
/

CREATE INDEX PRACOWNIK_MA_ADRES ON PRACOWNICY (ID_ADRESU)
/

CREATE INDEX PRACOWNIK_JEST_ZATRUDNIONY ON PRACOWNICY (ID_OPERATORA)
/

CREATE INDEX IX_RELATIONSHIP13 ON PRACOWNICY (ID_STANOWISKA)
/

-- ADD KEYS FOR TABLE PRACOWNICY

ALTER TABLE PRACOWNICY ADD CONSTRAINT IDENTYFIKATOR_PRACOWNIKA PRIMARY KEY (ID_PRACOWNIKA)
/

-- TABLE POJAZDY

CREATE TABLE POJAZDY(
  ID_POJAZDU INTEGER NOT NULL,
  NR_REJESTRACYJNY VARCHAR2(8 ) NOT NULL,
  VIN VARCHAR2(17 ) NOT NULL,
  LICZBA_DRZWI CHAR(1 ) NOT NULL,
  POJEMOSC_SILNIKA VARCHAR2(4 ),
  ROK_PRODUKCJI VARCHAR2(4 ) NOT NULL,
  PALIWO CHAR(8 ) NOT NULL
        CHECK (PALIWO IN ('PB','ON','LPG','HYBRYDA','ELEKTRYK')),
  NAPED_4X4 CHAR(1 ) NOT NULL,
  KOLOR VARCHAR2(30 ),
  LICZBA_MIEJSC VARCHAR2(2 ) NOT NULL,
  ID_BIURA INTEGER NOT NULL,
  ID_MODELU_POJAZDU INTEGER NOT NULL
)
/

-- CREATE INDEXES FOR TABLE POJAZDY

CREATE INDEX IX_BIURO_MA ON POJAZDY (ID_BIURA)
/

CREATE INDEX IX_RELATIONSHIP41 ON POJAZDY (ID_MODELU_POJAZDU)
/

-- ADD KEYS FOR TABLE POJAZDY

ALTER TABLE POJAZDY ADD CONSTRAINT IDENTYFIKATOR_POJAZDU PRIMARY KEY (ID_POJAZDU)
/

-- TABLE PUNKTY_SPRZEDAZY

CREATE TABLE PUNKTY_SPRZEDAZY(
  ID_PUNKTU_SPRZEDAZY INTEGER NOT NULL,
  NAZWA_PUNKTU VARCHAR2(30 ) NOT NULL,
  NR_TELEFONU VARCHAR2(15 ) NOT NULL,
  EMAIL VARCHAR2(50 ) NOT NULL,
  GODZINY_OTWARCIA VARCHAR2(11 ),
  ID_OPERATORA INTEGER NOT NULL,
  ID_ADRESU INTEGER NOT NULL
)
/

-- CREATE INDEXES FOR TABLE PUNKTY_SPRZEDAZY

CREATE INDEX OPERATOR_POSIADA_PUNKT ON PUNKTY_SPRZEDAZY (ID_OPERATORA)
/

CREATE INDEX PUNKT_MA_ADRES ON PUNKTY_SPRZEDAZY (ID_ADRESU)
/

-- ADD KEYS FOR TABLE PUNKTY_SPRZEDAZY

ALTER TABLE PUNKTY_SPRZEDAZY ADD CONSTRAINT IDENTYFIKATOR_PUNKTU PRIMARY KEY (ID_PUNKTU_SPRZEDAZY)
/

-- TABLE ABONAMENTY_KOMORKOWE

CREATE TABLE ABONAMENTY_KOMORKOWE(
  ID_ABONAMENTU INTEGER NOT NULL,
  NAZWA_USLUGI VARCHAR2(50 ) NOT NULL,
  MINUTES CHAR(4 ) NOT NULL
        CHECK (MINUTES IN ('100','200','500','1000','INF')),
  GIGABS CHAR(2 ) NOT NULL
        CHECK (GIGABS IN ('1','2','5','10','15','30')),
  SPOTIFY CHAR(1 ),
  ID_USLUGI INTEGER NOT NULL
)
/

-- ADD KEYS FOR TABLE ABONAMENTY_KOMORKOWE

ALTER TABLE ABONAMENTY_KOMORKOWE ADD CONSTRAINT ID_ABONAMENTU PRIMARY KEY (ID_ABONAMENTU,ID_USLUGI)
/

-- TABLE USLUGI

CREATE TABLE USLUGI(
  ID_USLUGI INTEGER NOT NULL,
  ID_OPERATORA INTEGER NOT NULL,
  ID_RODZAJU INTEGER NOT NULL,
  RATA_MIESIECZNA NUMBER(10,2) NOT NULL,
  OKRES_ZOBOWIAZANIA CHAR(2 ) NOT NULL
)
/

-- CREATE INDEXES FOR TABLE USLUGI

CREATE INDEX OPERATOR_SWIADCZY_USLUGE ON USLUGI (ID_OPERATORA)
/

CREATE INDEX IX_RELATIONSHIP4 ON USLUGI (ID_RODZAJU)
/

-- ADD KEYS FOR TABLE USLUGI

ALTER TABLE USLUGI ADD CONSTRAINT IDENTYFIKATOR_USLUG PRIMARY KEY (ID_USLUGI)
/

-- TABLE BIURA

CREATE TABLE BIURA(
  ID_BIURA INTEGER NOT NULL,
  NAZWA_BIURA VARCHAR2(30 ) NOT NULL,
  NR_TELEFONU VARCHAR2(15 ) NOT NULL,
  EMAIL VARCHAR2(50 ) NOT NULL,
  SPECJALIZACJA_BIURA CHAR(8 ) NOT NULL
        CHECK (SPECJALIZACJA_BIURA IN ('LABS', 'CYBER', 'MAINTAIN','HR' , 'OTHER')),
  ID_OPERATORA INTEGER NOT NULL,
  ID_ADRESU INTEGER NOT NULL
)
/

-- CREATE INDEXES FOR TABLE BIURA

CREATE INDEX OPERATOR_POSIADA_BIURO ON BIURA (ID_OPERATORA)
/

CREATE INDEX BIURO_MA_ADRES ON BIURA (ID_ADRESU)
/

-- ADD KEYS FOR TABLE BIURA

ALTER TABLE BIURA ADD CONSTRAINT IDENTYFIKATOR_BIURA PRIMARY KEY (ID_BIURA)
/

-- TABLE KLIENCI

CREATE TABLE KLIENCI(
  ID_KLIENTA INTEGER NOT NULL,
  IMIE VARCHAR2(40 ) NOT NULL,
  NAZWISKO VARCHAR2(40 ) NOT NULL,
  NR_TELEFONU VARCHAR2(16 ) NOT NULL,
  EMAIL VARCHAR2(50 ) NOT NULL,
  PESEL CHAR(11 ),
  DATA_URODZENIA DATE NOT NULL,
  PLEC CHAR(1 ) NOT NULL
        CHECK (PLEC IN ('K', 'M')),
  DATA_DOLACZENIA DATE NOT NULL,
  ID_OPERATORA INTEGER NOT NULL,
  ID_ADRESU INTEGER NOT NULL
)
/

-- CREATE INDEXES FOR TABLE KLIENCI

CREATE INDEX OPERATR_MA_KLIENTA ON KLIENCI (ID_OPERATORA)
/

CREATE INDEX MA_ADRES_KLIENT ON KLIENCI (ID_ADRESU)
/

-- ADD KEYS FOR TABLE KLIENCI

ALTER TABLE KLIENCI ADD CONSTRAINT IDENTYFIKATOR_KLIENTA PRIMARY KEY (ID_KLIENTA)
/

-- TABLE INTERNETY_MOBILNE

CREATE TABLE INTERNETY_MOBILNE(
  ID_INTERNETU_MOBILNEGO INTEGER NOT NULL,
  NAZWA_USLUGI VARCHAR2(50 ) NOT NULL,
  PAKIET CHAR(3 ) NOT NULL,
  HAPPY_HOURS CHAR(1 ) NOT NULL,
  ID_USLUGI INTEGER NOT NULL
)
/

-- ADD KEYS FOR TABLE INTERNETY_MOBILNE

ALTER TABLE INTERNETY_MOBILNE ADD CONSTRAINT IDENTYFIKATOR_INT_MOB PRIMARY KEY (ID_INTERNETU_MOBILNEGO,ID_USLUGI)
/

-- TABLE INTERNETY_STACJONARNE

CREATE TABLE INTERNETY_STACJONARNE(
  ID_INTERNETU_MOBILNEGO INTEGER NOT NULL,
  NAZWA_USLUGI VARCHAR2(50 ) NOT NULL,
  PREDKOSC CHAR(256 ) NOT NULL
        CHECK (PREDKOSC IN ('10','20','50','75','100','300','500','600','1000')),
  KABEL CHAR(10 ) NOT NULL
        CHECK (KABEL IN ('SWIATLOWOD','MIEDZIANY')),
  ID_USLUGI INTEGER NOT NULL
)
/

-- ADD KEYS FOR TABLE INTERNETY_STACJONARNE

ALTER TABLE INTERNETY_STACJONARNE ADD CONSTRAINT IDENTYFIKATOR_INTERNETU PRIMARY KEY (ID_INTERNETU_MOBILNEGO,ID_USLUGI)
/

-- TABLE TELEWIZJE

CREATE TABLE TELEWIZJE(
  ID_TELEWIZJI INTEGER NOT NULL,
  NAZWA_USLUGI VARCHAR2(50 ) NOT NULL,
  LICZBA_KANALOW INTEGER NOT NULL,
  NETFLIX CHAR(1 ) NOT NULL,
  HBO_GO CHAR(1 ) NOT NULL,
  NAGRYWARKA CHAR(1 ) NOT NULL,
  MULTIROOM CHAR(1 ) NOT NULL,
  ID_USLUGI INTEGER NOT NULL
)
/

-- ADD KEYS FOR TABLE TELEWIZJE

ALTER TABLE TELEWIZJE ADD CONSTRAINT IDENTYFIKATOR_TELEW PRIMARY KEY (ID_TELEWIZJI,ID_USLUGI)
/

-- TABLE ABONAMENTY_SPRZETOWE

CREATE TABLE ABONAMENTY_SPRZETOWE(
  ID_TELEFONU INTEGER NOT NULL,
  CENA_NA_START NUMBER(10,2) NOT NULL,
  ID_USLUGI INTEGER NOT NULL,
  ID_MODELU_TELEFONU INTEGER NOT NULL
)
/

-- CREATE INDEXES FOR TABLE ABONAMENTY_SPRZETOWE

CREATE INDEX IX_RELATIONSHIP7 ON ABONAMENTY_SPRZETOWE (ID_MODELU_TELEFONU)
/

-- ADD KEYS FOR TABLE ABONAMENTY_SPRZETOWE

ALTER TABLE ABONAMENTY_SPRZETOWE ADD CONSTRAINT IDENTYFIKATOR_TEL PRIMARY KEY (ID_TELEFONU,ID_USLUGI)
/

-- TABLE WYNAGRODZENIA

CREATE TABLE WYNAGRODZENIA(
  ID_WYNAGRODZENIA INTEGER NOT NULL,
  DATA_WYPLATY DATE NOT NULL,
  PLACA_BRUTTO NUMBER(10,2) NOT NULL,
  PLACA_NETTO NUMBER(10,2) NOT NULL,
  PREMIA NUMBER(10,2),
  ID_PRACOWNIKA INTEGER NOT NULL
)
/

-- CREATE INDEXES FOR TABLE WYNAGRODZENIA

CREATE INDEX PRACOWNIK_DOSTAJE_KASE ON WYNAGRODZENIA (ID_PRACOWNIKA)
/

-- ADD KEYS FOR TABLE WYNAGRODZENIA

ALTER TABLE WYNAGRODZENIA ADD CONSTRAINT IDENTYFFIKATOR_WYNAGRODZENIA PRIMARY KEY (ID_WYNAGRODZENIA)
/

-- TABLE POJAZDY_TECHNICZNE

CREATE TABLE POJAZDY_TECHNICZNE(
  ID_POJAZDU INTEGER NOT NULL,
  NARZEDZIA CHAR(1 ) NOT NULL,
  DRABINA CHAR(1 ) NOT NULL
)
/

-- ADD KEYS FOR TABLE POJAZDY_TECHNICZNE

ALTER TABLE POJAZDY_TECHNICZNE ADD CONSTRAINT IDENTYFIKATOR_POJ_TECH PRIMARY KEY (ID_POJAZDU)
/

-- TABLE POJAZDY_OSOBOWE

CREATE TABLE POJAZDY_OSOBOWE(
  ID_POJAZDU INTEGER NOT NULL,
  TEMPOMAT CHAR(1 ) NOT NULL,
  PRZYCIEMNIANE_SZYBY CHAR(1 ) NOT NULL
)
/

-- ADD KEYS FOR TABLE POJAZDY_OSOBOWE

ALTER TABLE POJAZDY_OSOBOWE ADD CONSTRAINT IDENTYFIKATOR_POJ_OS PRIMARY KEY (ID_POJAZDU)
/

-- TABLE TRANSAKCJE_ZAKUPU_USLUGI

CREATE TABLE TRANSAKCJE_ZAKUPU_USLUGI(
  DATA_ZAWARCIA DATE NOT NULL,
  ID_KLIENTA INTEGER NOT NULL,
  ID_USLUGI INTEGER NOT NULL,
  ID_PUNKTU_SPRZEDAZY INTEGER
)
/

-- CREATE INDEXES FOR TABLE TRANSAKCJE_ZAKUPU_USLUGI

CREATE INDEX IX_RELATIONSHIP2 ON TRANSAKCJE_ZAKUPU_USLUGI (ID_PUNKTU_SPRZEDAZY)
/

-- TABLE ADRESY

CREATE TABLE ADRESY(
  ID_ADRESU INTEGER NOT NULL,
  MIASTO VARCHAR2(20 ) NOT NULL,
  ULICA VARCHAR2(30 ) NOT NULL,
  NR_BUDYNKU VARCHAR2(8 ) NOT NULL,
  NR_MIESZKANIA VARCHAR2(5 )
)
/

-- ADD KEYS FOR TABLE ADRESY

ALTER TABLE ADRESY ADD CONSTRAINT PK_ADRESY PRIMARY KEY (ID_ADRESU)
/

-- TABLE MODELE_POJAZDOW

CREATE TABLE MODELE_POJAZDOW(
  ID_MODELU_POJAZDU INTEGER NOT NULL,
  MODEL_POJAZDU VARCHAR2(20 ) NOT NULL,
  OPIS VARCHAR2(200 ),
  ID_MARKI_TELEFONU INTEGER NOT NULL
)
/

-- CREATE INDEXES FOR TABLE MODELE_POJAZDOW

CREATE INDEX IX_RELATIONSHIP10 ON MODELE_POJAZDOW (ID_MARKI_TELEFONU)
/

-- ADD KEYS FOR TABLE MODELE_POJAZDOW

ALTER TABLE MODELE_POJAZDOW ADD CONSTRAINT ID_MODELU_POJAZDU PRIMARY KEY (ID_MODELU_POJAZDU)
/

-- TABLE MODELE_TELEFONOW

CREATE TABLE MODELE_TELEFONOW(
  ID_MODELU_TELEFONU INTEGER NOT NULL,
  MODEL_TELEFONU VARCHAR2(30 ) NOT NULL,
  ROZMIAR_EKRANU VARCHAR2(4 ) NOT NULL,
  WEJSCIE CHAR(9 ) NOT NULL
        CHECK (WEJSCIE IN ('USB-C','USB-A','LIGHTNING')),
  JACK CHAR(1 ) NOT NULL,
  APARAT VARCHAR2(4 ) NOT NULL,
  LADOWANIE_INDUKCYJNE CHAR(1 ) NOT NULL,
  ID_MARKI_TELEFONU INTEGER NOT NULL
)
/

-- CREATE INDEXES FOR TABLE MODELE_TELEFONOW

CREATE INDEX IX_RELATIONSHIP11 ON MODELE_TELEFONOW (ID_MARKI_TELEFONU)
/

-- ADD KEYS FOR TABLE MODELE_TELEFONOW

ALTER TABLE MODELE_TELEFONOW ADD CONSTRAINT PK_MODELE_TELEFONOW PRIMARY KEY (ID_MODELU_TELEFONU)
/

-- TABLE MARKI_SAMOCHODOW

CREATE TABLE MARKI_SAMOCHODOW(
  ID_MARKI_POJAZDU INTEGER NOT NULL,
  MARKA_POJAZDU VARCHAR2(20 ) NOT NULL
)
/

-- ADD KEYS FOR TABLE MARKI_SAMOCHODOW

ALTER TABLE MARKI_SAMOCHODOW ADD CONSTRAINT ID_MARKI_POJAZDU PRIMARY KEY (ID_MARKI_POJAZDU)
/

-- TABLE MARKI_TELEFONOW

CREATE TABLE MARKI_TELEFONOW(
  ID_MARKI_TELEFONU INTEGER NOT NULL,
  MARKA_TELEFONU VARCHAR2(20 ) NOT NULL
)
/

-- ADD KEYS FOR TABLE MARKI_TELEFONOW

ALTER TABLE MARKI_TELEFONOW ADD CONSTRAINT ID_MARKI_TELEFONU PRIMARY KEY (ID_MARKI_TELEFONU)
/

-- TABLE STANOWISKA

CREATE TABLE STANOWISKA(
  ID_STANOWISKA INTEGER NOT NULL,
  STANOWISKO VARCHAR2(30 ) NOT NULL,
  OPIS VARCHAR2(300 )
)
/

-- ADD KEYS FOR TABLE STANOWISKA

ALTER TABLE STANOWISKA ADD CONSTRAINT NR_STANOWISKA PRIMARY KEY (ID_STANOWISKA)
/

-- TABLE RODZAJE_USLUG

CREATE TABLE RODZAJE_USLUG(
  ID_RODZAJU INTEGER NOT NULL,
  RODZAJ_USLUGI CHAR(40 ) NOT NULL
)
/

-- ADD KEYS FOR TABLE RODZAJE_USLUG

ALTER TABLE RODZAJE_USLUG ADD CONSTRAINT PK_RODZAJE_USLUG PRIMARY KEY (ID_RODZAJU)
/


-- CREATE FOREIGN KEYS (RELATIONSHIPS) SECTION ------------------------------------------------- 

ALTER TABLE POJAZDY ADD CONSTRAINT BIURO_MA FOREIGN KEY (ID_BIURA) REFERENCES BIURA (ID_BIURA)
/



ALTER TABLE BIURA ADD CONSTRAINT OPERATOR_POSIADA_BIURO FOREIGN KEY (ID_OPERATORA) REFERENCES OPERATORZY (ID_OPERATORA)
/



ALTER TABLE PUNKTY_SPRZEDAZY ADD CONSTRAINT OPERATOR_POSIADA_PUNKT FOREIGN KEY (ID_OPERATORA) REFERENCES OPERATORZY (ID_OPERATORA)
/



ALTER TABLE PRACOWNICY ADD CONSTRAINT BIURO_POSIADA FOREIGN KEY (ID_BIURA) REFERENCES BIURA (ID_BIURA)
/



ALTER TABLE PRACOWNICY ADD CONSTRAINT PUNKT_SPRZEDAZY_POSIADA FOREIGN KEY (ID_PUNKTU_SPRZEDAZY) REFERENCES PUNKTY_SPRZEDAZY (ID_PUNKTU_SPRZEDAZY)
/



ALTER TABLE KLIENCI ADD CONSTRAINT OPERATR_MA FOREIGN KEY (ID_OPERATORA) REFERENCES OPERATORZY (ID_OPERATORA)
/



ALTER TABLE USLUGI ADD CONSTRAINT OPERATOR_OFERUJE FOREIGN KEY (ID_OPERATORA) REFERENCES OPERATORZY (ID_OPERATORA)
/



ALTER TABLE PRACOWNICY ADD CONSTRAINT PRACOWNIK_MA_ADRES FOREIGN KEY (ID_ADRESU) REFERENCES ADRESY (ID_ADRESU)
/



ALTER TABLE KLIENCI ADD CONSTRAINT KLIENT_MA_ADRES FOREIGN KEY (ID_ADRESU) REFERENCES ADRESY (ID_ADRESU)
/



ALTER TABLE BIURA ADD CONSTRAINT BIURO_MA_ADRES FOREIGN KEY (ID_ADRESU) REFERENCES ADRESY (ID_ADRESU)
/



ALTER TABLE OPERATORZY ADD CONSTRAINT OPERATOR_MA_ADRES FOREIGN KEY (ID_ADRESU) REFERENCES ADRESY (ID_ADRESU)
/



ALTER TABLE PUNKTY_SPRZEDAZY ADD CONSTRAINT PUNT_SPRZEDAZY_MA_ADRES FOREIGN KEY (ID_ADRESU) REFERENCES ADRESY (ID_ADRESU)
/



ALTER TABLE PRACOWNICY ADD CONSTRAINT OPERATOR_ZATRUDNIA FOREIGN KEY (ID_OPERATORA) REFERENCES OPERATORZY (ID_OPERATORA)
/



ALTER TABLE WYNAGRODZENIA ADD CONSTRAINT PRACOWNIK_DOSTAJE_KASE FOREIGN KEY (ID_PRACOWNIKA) REFERENCES PRACOWNICY (ID_PRACOWNIKA)
/



ALTER TABLE POJAZDY ADD CONSTRAINT POJAZD_JEST_MODELU FOREIGN KEY (ID_MODELU_POJAZDU) REFERENCES MODELE_POJAZDOW (ID_MODELU_POJAZDU)
/



ALTER TABLE ABONAMENTY_SPRZETOWE ADD CONSTRAINT ABONAMENT_TELEFON FOREIGN KEY (ID_MODELU_TELEFONU) REFERENCES MODELE_TELEFONOW (ID_MODELU_TELEFONU)
/



ALTER TABLE MODELE_POJAZDOW ADD CONSTRAINT POJAZD_MA_MARKE FOREIGN KEY (ID_MARKI_TELEFONU) REFERENCES MARKI_SAMOCHODOW (ID_MARKI_POJAZDU)
/



ALTER TABLE MODELE_TELEFONOW ADD CONSTRAINT TELEFON_MA_MARKE FOREIGN KEY (ID_MARKI_TELEFONU) REFERENCES MARKI_TELEFONOW (ID_MARKI_TELEFONU)
/



ALTER TABLE PRACOWNICY ADD CONSTRAINT PRACOWNIK_PRACUJE_NA FOREIGN KEY (ID_STANOWISKA) REFERENCES STANOWISKA (ID_STANOWISKA)
/



ALTER TABLE TRANSAKCJE_ZAKUPU_USLUGI ADD CONSTRAINT RELATIONSHIP2 FOREIGN KEY (ID_PUNKTU_SPRZEDAZY) REFERENCES PUNKTY_SPRZEDAZY (ID_PUNKTU_SPRZEDAZY)
/



ALTER TABLE USLUGI ADD CONSTRAINT USLUGA_RODZAJU FOREIGN KEY (ID_RODZAJU) REFERENCES RODZAJE_USLUG (ID_RODZAJU)
/

ALTER TABLE MODELE_POJAZDOW RENAME COLUMN "ID_MARKI_TELEFONU" TO "ID_MARKI_POJAZDU"; 